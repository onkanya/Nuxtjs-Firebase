(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{330:function(e,r,t){var content=t(333);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(45).default)("0a2007cb",content,!0,{sourceMap:!1})},331:function(e,r,t){e.exports=t.p+"img/b794b23.png"},332:function(e,r,t){"use strict";var n=t(330);t.n(n).a},333:function(e,r,t){r=e.exports=t(44)(!1);var n=t(185)(t(334));r.push([e.i,".container{color:#555;height:100vh;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background-image:url("+n+");background-position:50%;background-size:cover;background-repeat:no-repeat;text-align:center}.login-container{background-color:#fff;padding:30px;border:1px solid #ccc;border-radius:8px}.login-header{background:-webkit-linear-gradient(#00d5fc,#ee60f3);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:34px;font-weight:600}.sub-login-header{color:#0e31af;text-align:center;margin:5px 0 30px}",""])},334:function(e,r,t){e.exports=t.p+"img/b8b5cfe.jpg"},335:function(e,r,t){"use strict";t.r(r);t(127),t(43),t(31),t(18),t(88);var n=t(82),o=(t(184),t(58)),l=(t(42),t(57)),c=t.n(l);function m(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(source,!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(source).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}var d={layout:"login",middleware:"isNotLogin",data:function(){return{userData:{},registerDialog:!1,registerForm:{fname:"",lname:"",age:0,phone:"",address:""},rules:{fname:[{required:!0,message:"Please enter first name",trigger:"blur"}],lname:[{required:!0,message:"Please enter last name",trigger:"blur"}],age:[{required:!0,message:"Please enter age",trigger:"blur"}],phone:[{required:!0,message:"Please enter phone number",trigger:"blur"}],address:[{required:!0,message:"Please enter address",trigger:"blur"}]}}},methods:{googleSignIn:function(){var e=this,r=new c.a.auth.GoogleAuthProvider;c.a.auth().signInWithPopup(r).then((function(r){var t,n,l,m;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,regeneratorRuntime.awrap(c.a.firestore().collection("users").doc(r.user.email).get());case 2:if(!d.sent.exists){d.next=8;break}return localStorage.setItem("firebase_user_data",JSON.stringify(r.user)),e.$router.push("/"),e.$notify.success("login success!"),d.abrupt("return");case 8:e.userData=r.user,e.registerDialog=!0,t=r.user.displayName.split(" "),n=Object(o.a)(t,2),l=n[0],m=n[1],e.registerForm=f({},e.registerForm,{fname:l,lname:m});case 12:case"end":return d.stop()}}))})).catch((function(r){e.$notify.error("login failed!"),console.log(r)}))},register:function(){var e=this;this.$refs.registerForm.validate((function(r){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=16;break}return t.prev=1,t.next=4,regeneratorRuntime.awrap(c.a.firestore().collection("users").doc(e.userData.email).set(f({},e.registerForm,{created_at:(new Date).toUTCString(),email:e.userData.email})));case 4:localStorage.setItem("firebase_user_data",JSON.stringify(e.userData)),e.$router.push("/"),e.$notify.success("login success!"),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),e.$notify.error("register failed!"),e.cancelRegister(),console.log(t.t0);case 14:t.next=18;break;case 16:return console.log("error submit!!"),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),null,null,[[1,9]])}))},cancelRegister:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(c.a.auth().signOut());case 3:localStorage.removeItem("firebase_user_data"),this.$router.push("/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),this.$notify.error("login failed!"),console.log(e.t0);case 11:case"end":return e.stop()}}),null,this,[[0,7]])}}},v=(t(332),t(23)),component=Object(v.a)(d,(function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"container"},[n("div",{staticClass:"login-container"},[n("div",{staticClass:"login-header"},[e._v("\n      Exam Front-end\n    ")]),e._v(" "),n("div",{staticClass:"sub-login-header"},[e._v("\n      Please Sign-in\n    ")]),e._v(" "),n("el-button",{on:{click:e.googleSignIn}},[n("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t(331),width:"20px"}}),e._v(" "),n("span",[e._v("\n        Sign-in with Gmail\n      ")])])],1),e._v(" "),n("el-dialog",{attrs:{width:"60%",title:"Register",visible:e.registerDialog,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":!0}},[n("span",[n("el-form",{ref:"registerForm",staticClass:"demo-registerForm",attrs:{model:e.registerForm,"status-icon":"",rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"First name",prop:"fname"}},[n("el-input",{attrs:{type:"text"},model:{value:e.registerForm.fname,callback:function(r){e.$set(e.registerForm,"fname",r)},expression:"registerForm.fname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Last name",prop:"lname"}},[n("el-input",{attrs:{type:"text"},model:{value:e.registerForm.lname,callback:function(r){e.$set(e.registerForm,"lname",r)},expression:"registerForm.lname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Age",prop:"age"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.age,expression:"registerForm.age"}],staticClass:"el-input__inner",attrs:{type:"number"},domProps:{value:e.registerForm.age},on:{input:function(r){r.target.composing||e.$set(e.registerForm,"age",r.target.value)}}})]),e._v(" "),n("el-form-item",{attrs:{label:"Phone",prop:"phone"}},[n("el-input",{model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone",r)},expression:"registerForm.phone"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Address",prop:"address"}},[n("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.registerForm.address,callback:function(r){e.$set(e.registerForm,"address",r)},expression:"registerForm.address"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancelRegister}},[e._v("Cancel")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("Confirm")])],1)])],1)}),[],!1,null,null,null);r.default=component.exports}}]);